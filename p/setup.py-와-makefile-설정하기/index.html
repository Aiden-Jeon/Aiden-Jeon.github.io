<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='Module setup Contents 순서\nsetup.py 와 Makefile 설정하기 프로젝트별 pylint 설정하기 이번 포스트에서는 setup.py 와 Makefile을 설정하는 법에 대해 소개하겠습니다.\n포스트에서 사용된 코드는 github 에서 확인할 수 있습니다.\n1. setup.py setup.py 에서 사용되는 setuptools.setup은 개발하고 있는 소스 코드를 package 형식으로 배포 할 때 이용합니다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 ## setup.py from setuptools import find_packages, setup setup( name="github_cicd", version="0.0.1", packages=find_packages("src"), python_requires=">=3.*", author="Aiden-jeon", author_email="ells2124@gmail.com", description="Example of github-cicd", keywords="ML pipeline kubeflow automation", url="https://github.com/aiden-jeon/github-cicd", project_urls={ "Documentation": "https://github.com/aiden-jeon/github-cicd", "Source Code": "https://github.com/aiden-jeon/github-cicd", }, ) name: 패키지가 어떤 이름으로 설치 될지를 나타냅니다.\nversion: 배포된 소스코드의 버전입니다.\npackages: 배포에 포함 될 package들을 의미합니다. 보통 setuptools.find_packages를 이용해 자동으로 찾습니다. 예를 들어서 src 폴더 밑에 module_1, module_2 가 있다면 두 모듈을 모두 찾아서 설치를 해줍니다. 이렇게 설치된 경우 아래와 같이 사용할 수 있습니다.\n'><title>setup.py 와 Makefile 설정하기</title>
<link rel=canonical href=https://aiden-jeon.github.io/blog/p/setup.py-%EC%99%80-makefile-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/><link rel=stylesheet href=/blog/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="setup.py 와 Makefile 설정하기"><meta property='og:description' content='Module setup Contents 순서\nsetup.py 와 Makefile 설정하기 프로젝트별 pylint 설정하기 이번 포스트에서는 setup.py 와 Makefile을 설정하는 법에 대해 소개하겠습니다.\n포스트에서 사용된 코드는 github 에서 확인할 수 있습니다.\n1. setup.py setup.py 에서 사용되는 setuptools.setup은 개발하고 있는 소스 코드를 package 형식으로 배포 할 때 이용합니다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 ## setup.py from setuptools import find_packages, setup setup( name="github_cicd", version="0.0.1", packages=find_packages("src"), python_requires=">=3.*", author="Aiden-jeon", author_email="ells2124@gmail.com", description="Example of github-cicd", keywords="ML pipeline kubeflow automation", url="https://github.com/aiden-jeon/github-cicd", project_urls={ "Documentation": "https://github.com/aiden-jeon/github-cicd", "Source Code": "https://github.com/aiden-jeon/github-cicd", }, ) name: 패키지가 어떤 이름으로 설치 될지를 나타냅니다.\nversion: 배포된 소스코드의 버전입니다.\npackages: 배포에 포함 될 package들을 의미합니다. 보통 setuptools.find_packages를 이용해 자동으로 찾습니다. 예를 들어서 src 폴더 밑에 module_1, module_2 가 있다면 두 모듈을 모두 찾아서 설치를 해줍니다. 이렇게 설치된 경우 아래와 같이 사용할 수 있습니다.\n'><meta property='og:url' content='https://aiden-jeon.github.io/blog/p/setup.py-%EC%99%80-makefile-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/'><meta property='og:site_name' content="Aiden's Camp"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:published_time' content='2021-03-14T00:00:00+00:00'><meta property='article:modified_time' content='2021-03-14T00:00:00+00:00'><meta name=twitter:title content="setup.py 와 Makefile 설정하기"><meta name=twitter:description content='Module setup Contents 순서\nsetup.py 와 Makefile 설정하기 프로젝트별 pylint 설정하기 이번 포스트에서는 setup.py 와 Makefile을 설정하는 법에 대해 소개하겠습니다.\n포스트에서 사용된 코드는 github 에서 확인할 수 있습니다.\n1. setup.py setup.py 에서 사용되는 setuptools.setup은 개발하고 있는 소스 코드를 package 형식으로 배포 할 때 이용합니다.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 ## setup.py from setuptools import find_packages, setup setup( name="github_cicd", version="0.0.1", packages=find_packages("src"), python_requires=">=3.*", author="Aiden-jeon", author_email="ells2124@gmail.com", description="Example of github-cicd", keywords="ML pipeline kubeflow automation", url="https://github.com/aiden-jeon/github-cicd", project_urls={ "Documentation": "https://github.com/aiden-jeon/github-cicd", "Source Code": "https://github.com/aiden-jeon/github-cicd", }, ) name: 패키지가 어떤 이름으로 설치 될지를 나타냅니다.\nversion: 배포된 소스코드의 버전입니다.\npackages: 배포에 포함 될 package들을 의미합니다. 보통 setuptools.find_packages를 이용해 자동으로 찾습니다. 예를 들어서 src 폴더 밑에 module_1, module_2 가 있다면 두 모듈을 모두 찾아서 설치를 해줍니다. 이렇게 설치된 경우 아래와 같이 사용할 수 있습니다.\n'><link rel="shortcut icon" href=/blog/icons/favicon.ico><script async src="https://www.googletagmanager.com/gtag/js?id=G-419F58RW9W"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-419F58RW9W")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/blog/><img src=/blog/imgs/avatar_hu6933059792947527008.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🔥</span></figure><div class=site-meta><h1 class=site-name><a href=/blog>Aiden's Camp</a></h1><h2 class=site-description>Welcome to Aiden's Camp</h2></div></header><ol class=menu-social><li><a href=https://github.com/Aiden-Jeon target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/jongseob-jeon/ target=_blank title=Linkedin rel=me><svg fill="#000" height="800" width="800" id="Layer_1" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 310 310"><g id="XMLID_801_"><path id="XMLID_802_" d="M72.16 99.73H9.927c-2.762.0-5 2.239-5 5v199.928c0 2.762 2.238 5 5 5H72.16c2.762.0 5-2.238 5-5V104.73c0-2.76100000000001-2.238-5-5-5z"/><path id="XMLID_803_" d="M41.066.341C18.422.341.0 18.743.0 41.362.0 63.991 18.422 82.4 41.066 82.4c22.626.0 41.033-18.41 41.033-41.038C82.1 18.743 63.692.341 41.066.341z"/><path id="XMLID_804_" d="M230.454 94.761c-24.995.0-43.472 10.745-54.679 22.954V104.73c0-2.761-2.238-5-5-5h-59.599c-2.762.0-5 2.239-5 5v199.928c0 2.762 2.238 5 5 5h62.097c2.762.0 5-2.238 5-5V205.74c0-33.333 9.054-46.319 32.29-46.319 25.306.0 27.317 20.818 27.317 48.034v97.204c0 2.762 2.238 5 5 5H305c2.762.0 5-2.238 5-5V194.995C310 145.43 300.549 94.761 230.454 94.761z"/></g></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/blog/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/blog/categories><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg>
<span>Categories</span></a></li><li><a href=/blog/tags><svg class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3l9 9a1.5 1.5.0 010 2l-6 6a1.5 1.5.0 01-2 0L3 11V7a4 4 0 014-4h4"/><circle cx="9" cy="9" r="2"/></svg>
<span>Tags</span></a></li><li><a href=/blog/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li><a href=/blog/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/blog/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ul><li><ul><li><a href=#1-setuppy>1. setup.py</a></li><li><a href=#2-makefile>2. Makefile</a><ul><li><a href=#21-makefile을-사용하는-이유>2.1 Makefile을 사용하는 이유</a></li><li><a href=#22-코드-작성>2.2 코드 작성</a></li></ul></li><li><a href=#3-사용하기>3. 사용하기</a></li></ul></li></ul></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/blog/categories/dev/>Dev</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/blog/p/setup.py-%EC%99%80-makefile-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/>setup.py 와 Makefile 설정하기</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Mar 14, 2021</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>3 minute read</time></div></footer></div></header><section class=article-content><p><strong>Module setup Contents 순서</strong></p><ol><li><a class=link href=https://aiden-jeon.github.io/setup-module/makefile target=_blank rel=noopener>setup.py 와 Makefile 설정하기</a></li><li><a class=link href=https://aiden-jeon.github.io/setup-module/pylintrc target=_blank rel=noopener>프로젝트별 pylint 설정하기</a></li></ol><hr><p>이번 포스트에서는 setup.py 와 Makefile을 설정하는 법에 대해 소개하겠습니다.<br>포스트에서 사용된 코드는 <a class=link href=https://github.com/aiden-jeon/github-cicd target=_blank rel=noopener>github</a> 에서 확인할 수 있습니다.</p><h3 id=1-setuppy><a href=#1-setuppy class=header-anchor></a>1. setup.py</h3><p><code>setup.py</code> 에서 사용되는 <code>setuptools.setup</code>은 개발하고 있는 소스 코드를 package 형식으로 배포 할 때 이용합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=c1>## setup.py</span>
</span></span><span class=line><span class=cl><span class=kn>from</span> <span class=nn>setuptools</span> <span class=kn>import</span> <span class=n>find_packages</span><span class=p>,</span> <span class=n>setup</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>setup</span><span class=p>(</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span><span class=o>=</span><span class=s2>&#34;github_cicd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>version</span><span class=o>=</span><span class=s2>&#34;0.0.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>packages</span><span class=o>=</span><span class=n>find_packages</span><span class=p>(</span><span class=s2>&#34;src&#34;</span><span class=p>),</span>
</span></span><span class=line><span class=cl>    <span class=n>python_requires</span><span class=o>=</span><span class=s2>&#34;&gt;=3.*&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>author</span><span class=o>=</span><span class=s2>&#34;Aiden-jeon&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>author_email</span><span class=o>=</span><span class=s2>&#34;ells2124@gmail.com&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>description</span><span class=o>=</span><span class=s2>&#34;Example of github-cicd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>keywords</span><span class=o>=</span><span class=s2>&#34;ML pipeline kubeflow automation&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>url</span><span class=o>=</span><span class=s2>&#34;https://github.com/aiden-jeon/github-cicd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>project_urls</span><span class=o>=</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Documentation&#34;</span><span class=p>:</span> <span class=s2>&#34;https://github.com/aiden-jeon/github-cicd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Source Code&#34;</span><span class=p>:</span> <span class=s2>&#34;https://github.com/aiden-jeon/github-cicd&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p><code>name</code>: 패키지가 어떤 이름으로 설치 될지를 나타냅니다.<br><code>version</code>: 배포된 소스코드의 버전입니다.<br><code>packages</code>: 배포에 포함 될 package들을 의미합니다. 보통 <code>setuptools.find_packages</code>를 이용해 자동으로 찾습니다. 예를 들어서 src 폴더 밑에 <code>module_1</code>, <code>module_2</code> 가 있다면 두 모듈을 모두 찾아서 설치를 해줍니다. 이렇게 설치된 경우 아래와 같이 사용할 수 있습니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=kn>import</span> <span class=nn>module_1</span>
</span></span><span class=line><span class=cl><span class=kn>import</span> <span class=nn>module_2</span>
</span></span></code></pre></td></tr></table></div></div><p>만약, src 폴더 없이 <code>module_1</code> 폴더를 설치하고 싶을 경우에는 아래와 같이 설정을 해야 합니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>packages</span><span class=o>=</span><span class=p>[</span><span class=s2>&#34;module_1&#34;</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><p><code>python_requires</code>: 실행 가능한 파이썬 버전을 의미합니다.</p><p>아래 코드를 이용해 작성이 완료된 <code>setup.py</code>를 설치할 수 있습니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>pip</span> <span class=n>install</span> <span class=o>-</span> <span class=n>e</span> <span class=o>.</span>
</span></span></code></pre></td></tr></table></div></div><p>사용한 python 버전의 site-packages에 가면 아래와 같이 패키지가 설치되어 있는 것을 확인 할 수 있습니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>&gt; ls<span class=p>|</span>grep github
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>github-cicd.egg-link
</span></span></code></pre></td></tr></table></div></div><h3 id=2-makefile><a href=#2-makefile class=header-anchor></a>2. Makefile</h3><p>이번에는 Makefile을 작성해보겠습니다.</p><h4 id=21-makefile을-사용하는-이유><a href=#21-makefile%ec%9d%84-%ec%82%ac%ec%9a%a9%ed%95%98%eb%8a%94-%ec%9d%b4%ec%9c%a0 class=header-anchor></a>2.1 Makefile을 사용하는 이유</h4><blockquote><p>Compiling the source code files can be tiring, especially when you have to include several source files and type the compiling command every time you need to compile. Makefiles are the solution to simplify this task.</p><p>Makefiles are special format files that help build and manage the projects automatically.<br>출처: <a class=link href="https://www.tutorialspoint.com/makefile/why_makefile.htm#:~:text=Compiling%20the%20source%20code%20files,and%20manage%20the%20projects%20automatically" target=_blank rel=noopener>link</a></p></blockquote><p>요약하면 compile을 반복적으로 해야할 때 이러한 작업을 간단히 하기 위해 사용합니다.</p><h4 id=22-코드-작성><a href=#22-%ec%bd%94%eb%93%9c-%ec%9e%91%ec%84%b1 class=header-anchor></a>2.2 코드 작성</h4><p>Python에서는 협업을 위한 여러가지 tool이 존재합니다.
이러한 tool을 이용해 코드의 일관성, 타입체크, 코드 테스트를 수행할 수 있습니다.
그런데 이 과정이 반복적으로 이루어지기 때문에 이를 코드화하려고 합니다.</p><ul><li>init
Makefile을 수행하기 위해서는 제일 처음 필요한 패키지와 소스코드를 설치해야 합니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>init:
</span></span><span class=line><span class=cl>	pip install -U pip
</span></span><span class=line><span class=cl>	pip install -r requirements.txt
</span></span><span class=line><span class=cl>	pip install -e .
</span></span></code></pre></td></tr></table></div></div><ul><li>format
코드 format을 맞추기 위해 사용되는 툴은 주로 black 과 isort 가 있습니다.
이 때 isort 가 black과 충돌을 일으키지 않게 <code>--profile black</code>을 추가합니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>format:
</span></span><span class=line><span class=cl>	black .
</span></span><span class=line><span class=cl>	isort . --skip-gitignore --profile black
</span></span></code></pre></td></tr></table></div></div><ul><li>lint
linting을 검사하기 위해 pytest 를 이용하고 pylint, flake8, mypy 를 사용하겠습니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>lint:
</span></span><span class=line><span class=cl>	pytest src/mrxflow/ --pylint --flake8 --mypy
</span></span></code></pre></td></tr></table></div></div><ul><li>test
test를 수행하기 위해 pytest를 이용하겠습니다.</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>test:
</span></span><span class=line><span class=cl>	pytest tests -s --verbose --cov<span class=o>=</span>src/ --cov-report<span class=o>=</span>html --cov-report<span class=o>=</span>term-missing
</span></span></code></pre></td></tr></table></div></div><p>전체 코드는 다음과 같습니다.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>SHELL :<span class=o>=</span> /bin/bash
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>all:
</span></span><span class=line><span class=cl>	<span class=nb>echo</span> <span class=s1>&#39;Makefile for github-cicd&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>init:
</span></span><span class=line><span class=cl>	pip install -U pip
</span></span><span class=line><span class=cl>	pip install -r requirements.txt
</span></span><span class=line><span class=cl>	pip install -e .
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>format:
</span></span><span class=line><span class=cl>	black .
</span></span><span class=line><span class=cl>	isort . --skip-gitignore --profile black
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>lint:
</span></span><span class=line><span class=cl>	pytest src/mrxflow/ --pylint --flake8 --mypy
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>test:
</span></span><span class=line><span class=cl>	pytest tests -s --verbose --cov<span class=o>=</span>src/ --cov-report<span class=o>=</span>html --cov-report<span class=o>=</span>term-missing
</span></span></code></pre></td></tr></table></div></div><h3 id=3-사용하기><a href=#3-%ec%82%ac%ec%9a%a9%ed%95%98%ea%b8%b0 class=header-anchor></a>3. 사용하기</h3><p><code>setup.py</code>와 Makefile의 작성을 다 했다면 다음과 같이 사용할 수 있습니다.</p><ol><li>init
Makefile에서 수행할 때 필요한 패키지를 설치합니다.</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>make init
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>다른 명령어 사용해보기</li></ol><ul><li>format</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>make format
</span></span></code></pre></td></tr></table></div></div><ul><li>lint</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>make lint
</span></span></code></pre></td></tr></table></div></div><ul><li>test</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>make <span class=nb>test</span>
</span></span></code></pre></td></tr></table></div></div></section><footer class=article-footer><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css integrity=sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV crossorigin=anonymous><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js integrity=sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8 crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js integrity=sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05 crossorigin=anonymous defer></script><script>window.addEventListener("DOMContentLoaded",()=>{renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}],ignoredClasses:["gist"]})})</script></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/blog/p/%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%EB%B3%84-pylint-%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0/><div class=article-details><h2 class=article-title>프로젝트별 pylint 설정하기</h2></div></a></article><article><a href=/blog/p/macos%EC%97%90-virtualbox-windows10-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0/><div class=article-details><h2 class=article-title>MacOS에 Virtualbox Windows10 설치하기</h2></div></a></article></div></div></aside><script src=https://utteranc.es/client.js repo=aiden-jeon/aiden-jeon.github.io issue-term=pathname label=comment crossorigin=anonymous async></script><style>.utterances{max-width:unset}</style><script>let utterancesLoaded=!1;function setUtterancesTheme(e){let t=document.querySelector(".utterances iframe");t&&t.contentWindow.postMessage({type:"set-theme",theme:`github-${e}`},"https://utteranc.es")}addEventListener("message",e=>{if(e.origin!=="https://utteranc.es")return;utterancesLoaded=!0,setUtterancesTheme(document.documentElement.dataset.scheme)}),window.addEventListener("onColorSchemeChange",e=>{if(!utterancesLoaded)return;setUtterancesTheme(e.detail)})</script><footer class=site-footer><section class=copyright>&copy;
2020 -
2024 Aiden's Camp</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.27.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/blog/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>